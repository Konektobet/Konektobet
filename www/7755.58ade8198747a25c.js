"use strict";(self.webpackChunkKonektobet=self.webpackChunkKonektobet||[]).push([[7755],{7755:(T,m,c)=>{c.r(m),c.d(m,{ClinicListModule:()=>j});var u=c(6814),d=c(1896),g=c(5861),b=c(6466),O=c(3519),C=c.n(O),e=c(5879),M=c(7344),x=c(7700),P=c(9850),h=c(5195),v=c(617);function w(i,p){1&i&&(e.TgZ(0,"div",13)(1,"mat-icon"),e._uU(2,"arrow_forward_ios"),e.qZA(),e.TgZ(3,"label")(4,"strong"),e._uU(5,"See more"),e.qZA()()())}const _=function(i){return["/clinic/clinic-details",i]};function S(i,p){if(1&i&&(e.TgZ(0,"a",6)(1,"mat-card",7)(2,"mat-card-content")(3,"div",8),e._UZ(4,"img",9),e.qZA(),e.YNc(5,w,6,0,"div",10),e.TgZ(6,"div",11)(7,"div",12)(8,"h2"),e._uU(9),e.qZA(),e.TgZ(10,"h2"),e._uU(11),e.qZA()()()()()()),2&i){const t=p.$implicit,n=e.oxw();e.Q6J("routerLink",e.VKq(5,_,t.id)),e.xp6(4),e.Q6J("src",t.profile||"assets/logo.png",e.LSH),e.xp6(1),e.Q6J("ngIf",n.isHovered),e.xp6(4),e.Oqu(t.cName),e.xp6(2),e.Oqu(t.cAddress)}}function A(i,p){1&i&&(e.TgZ(0,"div")(1,"div",14),e._UZ(2,"img",15),e.qZA(),e.TgZ(3,"div",16)(4,"h1"),e._uU(5,"Your clinic registration is being reviewed."),e.qZA(),e.TgZ(6,"h2"),e._uU(7,"Kindly wait for 1 to 3 working days. Thank you"),e.qZA()()())}const Z=[{path:"",component:(()=>{class i{constructor(t,n,o,r,s){this.supabaseService=t,this.dialog=n,this.cdr=o,this.initialRecommendService=r,this.router=s,this.clinicAdded=!1,this.clinics=[],this.rejectedClinics=[],this.clinicsFound=!1,this.redirectionPerformed=!1,this.newClinic={cName:"",cAddress:"",cService:""},this.isHovered=!1}ngOnInit(){this.loadClinics(),this.loadAcceptedClinic(),this.loadRejectedClinics(),this.fetchClinicLogo()}onMouseEnter(){this.isHovered=!0}onMouseLeave(){this.isHovered=!1}loadClinics(){var t=this;return(0,g.Z)(function*(){try{const n=yield t.supabaseService.getClinicAuthStateSnapshot();if(n){const{data:o,error:r}=yield t.supabaseService.getSupabase().from("clinic_users_tbl").select("id").eq("email",n.email);if(r)console.error("Error fetching user data:",r);else if(o&&o.length>0){const s=o[0].id,{data:a,error:l}=yield t.supabaseService.getSupabase().from("clinic_tbl").select("*").eq("cUsers_id",s);l?console.error("Error fetching clinics:",l):(t.clinics=a||[],t.fetchClinicLogo())}else console.error("No user data found for the logged-in user.")}else console.error("No logged-in user found.")}catch(n){console.error("Error:",n)}})()}loadAcceptedClinic(){var t=this;return(0,g.Z)(function*(){try{const n=t.supabaseService.getClinicAuthStateSnapshot();if(n){const{data:o,error:r}=yield t.supabaseService.getSupabase().from("clinic_users_tbl").select("*").eq("email",n.email);if(r)console.error("Error fetching user data:",r);else if(o&&o.length>0){const s=o[0].id,{data:a,error:l}=yield t.supabaseService.getSupabase().from("admin_clinic_tbl").select("*").eq("adUsers_id",s),{data:f,error:E}=yield t.supabaseService.getSupabase().from("clinic_tbl").select("*").eq("cUsers_id",s);!l&&a&&0===a.length&&!E&&f&&0===f.length?(t.router.navigate(["/clinic/onboarding"]),console.log("Clinic data found:",f),console.log("Admin data found:",a)):(console.log("Clinic data found:",f),console.log("Admin data found:",a)),t.redirectionPerformed=!0}else console.error("No user data found for the logged-in user.")}else console.error("No logged-in user found.")}catch(n){console.error("Error:",n),C().fire({icon:"error",title:"Error",text:"An error occurred while loading the clinic. Please try again."})}})()}loadRejectedClinics(){var t=this;return(0,g.Z)(function*(){try{const n=yield t.supabaseService.getClinicAuthStateSnapshot();if(n){const{data:o,error:r}=yield t.supabaseService.getSupabase().from("clinic_users_tbl").select("id").eq("email",n.email);if(r)console.error("Error fetching user data:",r);else if(o&&o.length>0){const s=o[0].id,{data:a,error:l}=yield t.supabaseService.getSupabase().from("admin_rejected_tbl").select("*").eq("arUsers_id",s);l?console.error("Error fetching clinics:",l):t.rejectedClinics=a||[]}else console.error("No user data found for the logged-in user.")}else console.error("No logged-in user found.")}catch(n){console.error("Error:",n)}})()}popAddClinic(){this.clinics?this.dialog.open(b.F,{width:"70%",height:"auto"}).afterClosed().subscribe(n=>{n&&this.addClinic(n)}):C().fire({icon:"info",title:"Notice!",text:"You can only add one clinic."})}addClinic(t){this.clearNewClinic(),this.clinicAdded=!0}clearNewClinic(){this.newClinic={cName:"",cAddress:"",cService:""}}popSeeMoreDetails(t){this.router.navigate(["/new-details",t.id])}fetchClinicLogo(){var t=this;return(0,g.Z)(function*(){for(const n of t.clinics){const o=`${n.cName}_clinicLogo`;try{const{data:r,error:s}=yield t.supabaseService.getSupabase().storage.from("clinicLogo").download(o);n.profile=s?"assets/logo.png":URL.createObjectURL(r)}catch{n.profile="assets/logo.png"}}})()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(M.T),e.Y36(x.uw),e.Y36(e.sBO),e.Y36(P.h),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-clinic-list"]],decls:8,vars:2,consts:[[1,"outer-clinic-container"],[1,"clinics"],[1,"inner-clinic-container"],[1,"clinic-card-container"],["style","text-decoration: none;",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"text-decoration","none",3,"routerLink"],[1,"clinic-card",2,"background-image","url('assets/bg.png')"],[1,"clinic-logo"],["alt","Profile Image",3,"src"],["class","see-more1",4,"ngIf"],[1,"bot-part-container"],[1,"see-more"],[1,"see-more1"],[1,"no-data"],["src","assets/add clinic.svg","alt",""],[1,"no-data-txt"]],template:function(n,o){1&n&&(e.TgZ(0,"body")(1,"div",0)(2,"h1",1),e._uU(3,"Clinic"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e.YNc(6,S,12,7,"a",4),e.qZA()(),e.YNc(7,A,8,0,"div",5),e.qZA()()),2&n&&(e.xp6(6),e.Q6J("ngForOf",o.clinics),e.xp6(1),e.Q6J("ngIf",!o.clinics||0==o.clinics.length))},dependencies:[u.sg,u.O5,d.rH,h.a8,h.dn,v.Hw],styles:["body[_ngcontent-%COMP%]{background-color:#fafafa;height:100%;margin:0}.clinics[_ngcontent-%COMP%]{text-align:center;font-size:30px;font-weight:700;margin-top:30px}.inner-clinic-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.clinic-card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center;margin:3% 5% 0}.clinic-card[_ngcontent-%COMP%]{width:400px;height:210px;margin-bottom:30px;overflow:absolute;border-top-left-radius:10px;border-top-right-radius:10px}.clinic-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0;display:flex;width:auto;flex-wrap:nowrap;align-items:baseline;flex-direction:column}.clinic-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto;display:flex;align-items:center;justify-content:flex-start;padding:20px}.clinic-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;flex-wrap:wrap;width:100%}.clinic-txt[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;flex-wrap:wrap;color:#fff;text-align:center}.clinic-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-size:1rem}.clinic-txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;width:100%}@media screen and (max-width: 769px){.clinic-cards[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;width:350px}.clinic-card[_ngcontent-%COMP%]{width:350px;height:150px;margin-bottom:100px;overflow:absolute;border-top-left-radius:10px;border-top-right-radius:10px}.clinic-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px}.clinic-txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}}.see-more[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:center;overflow:relative;color:#fff;flex-direction:column}.see-more[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{width:100%;font-size:1rem;display:flex;justify-content:center;align-items:center;margin:0}.see-more1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#000}.see-more1[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fffc;opacity:0;transition:opacity .3s ease}.see-more1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:8px;color:#000}.clinic-card[_ngcontent-%COMP%]:hover   .see-more1[_ngcontent-%COMP%]{opacity:1}.see-more[_ngcontent-%COMP%]   mat-raised-button[_ngcontent-%COMP%]{order:1;width:auto}.bot-part-container[_ngcontent-%COMP%]{height:70px;width:100%;display:flex;align-items:center;justify-content:row;background-color:#fff;border-top-left-radius:10px;border-top-right-radius:10px;overflow:relative;box-shadow:2px 2px 10px #00000013;background-color:#3f51b5}.btn[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;justify-content:center}.btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.no-data[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.no-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:auto}.no-data-txt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px}@media screen and (max-width: 769px){.no-data-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.no-data-txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}}.danger[_ngcontent-%COMP%]{font-size:20px}"]})}return i})()}];let L=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(Z),d.Bz]})}return i})();var U=c(2296),y=c(6223);let j=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[u.ez,L,y.UX,h.QW,v.Ps,U.ot,y.u5,x.Is]})}return i})()}}]);