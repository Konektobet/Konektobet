"use strict";(self.webpackChunkKonektobet=self.webpackChunkKonektobet||[]).push([[2551],{2551:(U,h,c)=>{c.r(h),c.d(h,{StatusModule:()=>T});var u=c(6814),l=c(1896),m=c(5861),v=c(6466),M=c(3519),x=c.n(M),t=c(5879),O=c(7344),P=c(7700),y=c(9850),C=c(617),f=c(5195);function _(i,p){1&i&&(t.TgZ(0,"div",15)(1,"mat-icon"),t._uU(2,"arrow_forward_ios"),t.qZA(),t.TgZ(3,"label")(4,"strong"),t._uU(5,"See more"),t.qZA()()())}const b=function(i){return["/rclinic-details",i]};function w(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"a",6)(1,"mat-card",7),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMouseEnter())})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMouseLeave())}),t.TgZ(2,"mat-card-content")(3,"div",8),t._UZ(4,"img",9)(5,"div",10),t.qZA(),t.YNc(6,_,6,0,"div",11),t.TgZ(7,"div",12)(8,"div",13)(9,"h2"),t._uU(10),t.qZA(),t.TgZ(11,"h2",14),t._uU(12),t.qZA()()()()()()}if(2&i){const e=p.$implicit,n=t.oxw();t.Q6J("routerLink",t.VKq(5,b,e.id)),t.xp6(4),t.Q6J("src",e.logo||"assets/logo.png",t.LSH),t.xp6(2),t.Q6J("ngIf",n.isHovered),t.xp6(4),t.Oqu(e.cName||e.arName),t.xp6(2),t.Oqu(e.arStatus)}}function S(i,p){1&i&&(t.TgZ(0,"div")(1,"div",16),t._UZ(2,"img",17),t.qZA(),t.TgZ(3,"div",18)(4,"h1"),t._uU(5,"You haven't had a rejected clinic"),t.qZA(),t.TgZ(6,"h2"),t._uU(7,"Go to clinics and click the add button to display your clinic here."),t.qZA()()())}const Z=[{path:"",component:(()=>{class i{constructor(e,n,o,r,a){this.supabaseService=e,this.dialog=n,this.cdr=o,this.initialRecommendService=r,this.router=a,this.clinicAdded=!1,this.clinics=[],this.rejectedClinics=[],this.clinicsFound=!1,this.redirectionPerformed=!1,this.newClinic={cName:"",cAddress:"",cService:""},this.isHovered=!1}ngOnInit(){this.loadAcceptedClinic(),this.loadRejectedClinics()}onMouseEnter(){this.isHovered=!0}onMouseLeave(){this.isHovered=!1}loadAcceptedClinic(){var e=this;return(0,m.Z)(function*(){try{const n=e.supabaseService.getClinicAuthStateSnapshot();if(n){const{data:o,error:r}=yield e.supabaseService.getSupabase().from("clinic_users_tbl").select("*").eq("email",n.email);if(r)console.error("Error fetching user data:",r);else if(o&&o.length>0){const a=o[0].id,{data:s,error:d}=yield e.supabaseService.getSupabase().from("admin_clinic_tbl").select("*").eq("adUsers_id",a),{data:g,error:N}=yield e.supabaseService.getSupabase().from("clinic_tbl").select("*").eq("cUsers_id",a);!d&&s&&0===s.length&&!N&&g&&0===g.length?(e.router.navigate(["/clinic/onboarding"]),console.log("Clinic data found:",g),console.log("Admin data found:",s)):(console.log("Clinic data found:",g),console.log("Admin data found:",s)),e.redirectionPerformed=!0}else console.error("No user data found for the logged-in user.")}else console.error("No logged-in user found.")}catch(n){console.error("Error:",n),x().fire({icon:"error",title:"Error",text:"An error occurred while loading the clinic. Please try again."})}})()}loadRejectedClinics(){var e=this;return(0,m.Z)(function*(){try{const n=yield e.supabaseService.getClinicAuthStateSnapshot();if(n){const{data:o,error:r}=yield e.supabaseService.getSupabase().from("clinic_users_tbl").select("id").eq("email",n.email);if(r)console.error("Error fetching user data:",r);else if(o&&o.length>0){const a=o[0].id,{data:s,error:d}=yield e.supabaseService.getSupabase().from("admin_rejected_tbl").select("*").eq("arUsers_id",a);d?console.error("Error fetching clinics:",d):e.rejectedClinics=s||[]}else console.error("No user data found for the logged-in user.")}else console.error("No logged-in user found.")}catch(n){console.error("Error:",n)}})()}popAddClinic(){this.clinics?this.dialog.open(v.F,{width:"70%",height:"auto"}).afterClosed().subscribe(n=>{n&&this.addClinic(n)}):x().fire({icon:"info",title:"Notice!",text:"You can only add one clinic."})}addClinic(e){this.clearNewClinic(),this.clinicAdded=!0}clearNewClinic(){this.newClinic={cName:"",cAddress:"",cService:""}}popSeeMoreDetails(e){this.router.navigate(["/new-details",e.id])}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(O.T),t.Y36(P.uw),t.Y36(t.sBO),t.Y36(y.h),t.Y36(l.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-status"]],decls:8,vars:2,consts:[[1,"outer-clinic-container"],[1,"clinics"],[1,"inner-clinic-container"],[1,"clinic-card-container"],["style","text-decoration: none;",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"text-decoration","none",3,"routerLink"],[1,"clinic-card",2,"background-image","url('assets/bg.png')",3,"mouseenter","mouseleave"],[1,"clinic-logo"],["alt","Profile Image",3,"src"],[1,"clinic-txt"],["class","see-more1",4,"ngIf"],[1,"bot-part-container"],[1,"see-more"],[1,"danger"],[1,"see-more1"],[1,"no-data"],["src","assets/add clinic.svg","alt",""],[1,"no-data-txt"]],template:function(n,o){1&n&&(t.TgZ(0,"body")(1,"div",0)(2,"h1",1),t._uU(3,"Rejected Clinics"),t.qZA(),t.TgZ(4,"div",2)(5,"div",3),t.YNc(6,w,13,7,"a",4),t.qZA()(),t.YNc(7,S,8,0,"div",5),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("ngForOf",o.rejectedClinics),t.xp6(1),t.Q6J("ngIf",!o.rejectedClinics||0==o.rejectedClinics.length))},dependencies:[u.sg,u.O5,l.rH,C.Hw,f.a8,f.dn],styles:["body[_ngcontent-%COMP%]{background-color:#fafafa;height:93vh;margin:0}.clinics[_ngcontent-%COMP%]{text-align:center;font-size:30px;font-weight:700;margin-top:30px}.inner-clinic-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.clinic-card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center;margin:3% 5% 0}.clinic-card[_ngcontent-%COMP%]{width:400px;height:210px;margin-bottom:30px;overflow:absolute;border-top-left-radius:10px;border-top-right-radius:10px}.clinic-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0;display:flex;width:auto;flex-wrap:nowrap;align-items:baseline;flex-direction:column}.clinic-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto;display:flex;align-items:center;justify-content:flex-start;padding:20px}.clinic-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;flex-wrap:wrap;width:100%}.clinic-txt[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;flex-wrap:wrap;color:#fff;text-align:center}.clinic-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-size:1rem}.clinic-txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;width:100%}@media screen and (max-width: 769px){.clinic-cards[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;width:350px}.clinic-card[_ngcontent-%COMP%]{width:350px;height:150px;margin-bottom:100px;overflow:absolute;border-top-left-radius:10px;border-top-right-radius:10px}.clinic-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px}.clinic-txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}}.see-more[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:center;overflow:relative;color:#fff;flex-direction:column}.see-more[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{width:100%;font-size:1rem;display:flex;justify-content:center;align-items:center;margin:0}.see-more1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#000}.see-more1[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fffc;opacity:0;transition:opacity .3s ease}.see-more1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:8px;color:#000}.clinic-card[_ngcontent-%COMP%]:hover   .see-more1[_ngcontent-%COMP%]{opacity:1}.see-more[_ngcontent-%COMP%]   mat-raised-button[_ngcontent-%COMP%]{order:1;width:auto}.bot-part-container[_ngcontent-%COMP%]{height:70px;width:100%;display:flex;align-items:center;justify-content:row;background-color:#fff;border-top-left-radius:10px;border-top-right-radius:10px;overflow:relative;box-shadow:2px 2px 10px #00000013;background-color:#3f51b5}.btn[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;justify-content:center}.btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.no-data[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.no-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:auto}.no-data-txt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px}@media screen and (max-width: 769px){.no-data-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.no-data-txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}}.danger[_ngcontent-%COMP%]{font-size:20px}"]})}return i})()}];let A=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(Z),l.Bz]})}return i})();var j=c(5313);let T=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[u.ez,A,j.p0,C.Ps,f.QW]})}return i})()}}]);