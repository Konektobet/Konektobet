"use strict";(self.webpackChunkKonektobet=self.webpackChunkKonektobet||[]).push([[8763],{8763:(L,g,i)=>{i.r(g),i.d(g,{LoginModule:()=>I});var p=i(6814),c=i(1896),d=i(5861),r=i(6223),C=i(3519),v=i.n(C),t=i(5879),y=i(7344),u=i(2939),P=i(3363),m=i(2032),f=i(9157),x=i(617);function O(o,h){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required "),t.qZA())}function M(o,h){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Invalid email "),t.qZA())}function w(o,h){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required "),t.qZA())}const Z=[{path:"",component:(()=>{class o{constructor(n,s,e,a){this.router=n,this.supabaseService=s,this.snackBar=e,this.loginDialog=a,this.passwordControl=new r.NI("",r.kI.required),this.loginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",r.kI.required)}),this.user=null,this.hide=!0,this.loading=!1}togglePasswordVisibility(){this.hide=!this.hide}redirectToSignup(){this.router.navigate(["/signup"])}login(){var n=this;return(0,d.Z)(function*(){if(n.loginForm.valid&&!n.loading){const s=n.loginForm.value;n.loading=!0;try{const{data:e,error:a}=yield n.supabaseService.getSupabase().auth.signInWithPassword({email:s.email,password:s.password});if(a)console.error("Error signing in:",a.message),v().fire({icon:"error",title:"Login Failed",text:"Incorrect email or password"});else{console.log("Login success:",e);const b=yield n.supabaseService.getSupabase().from("users_tbl").select("firstname, lastname").eq("email",e.user?.email),l=Array.isArray(b.data)?b.data[0]:null,A=l?l.firstname:"User",F=l?l.lastname:"User";yield n.loginDialog.login(),n.showWelcomeToast(`${A} ${F}`),n.router.navigate(["/"])}}catch(e){console.error("Unexpected error:",e)}finally{n.loading=!1}}})()}signInWithGoogle(){var n=this;return(0,d.Z)(function*(){const{data:s,error:e}=yield n.supabaseService.getSupabase().auth.signInWithOAuth({provider:"google"});e?console.error("Google sign up error:",e.message):console.log("Google sign up success:",s)})()}showWelcomeToast(n){this.snackBar.open(`Welcome, ${n}!`,"",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["centered-toast"]})}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(c.F0),t.Y36(y.T),t.Y36(u.ux),t.Y36(P.e))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:27,vars:6,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["type","text/css","rel","stylesheet","href","https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css"],[1,"form-container"],[1,"logo-place"],["src","assets/logo.png","alt","konektobetlogo",1,"logo"],[1,"title"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"input"],["formControlName","email","matInput","","type","text","placeholder","Email"],["formControlName","password","matInput","","placeholder","Password",3,"type"],["matSuffix","",3,"click"],[1,"form-btn",3,"click"],[1,"page-link"]],template:function(s,e){1&s&&(t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Login Form"),t.qZA(),t._UZ(7,"link",4),t.qZA(),t.TgZ(8,"body")(9,"div",5)(10,"div",6),t._UZ(11,"img",7),t.qZA(),t.TgZ(12,"p",8),t._uU(13,"Welcome User!"),t.qZA(),t.TgZ(14,"form",9),t.YNc(15,O,2,0,"mat-error",10),t.YNc(16,M,2,0,"mat-error",10),t.TgZ(17,"div",11),t._UZ(18,"input",12),t.qZA(),t.YNc(19,w,2,0,"mat-error",10),t.TgZ(20,"div",11),t._UZ(21,"input",13),t.TgZ(22,"mat-icon",14),t.NdJ("click",function(){return e.togglePasswordVisibility()}),t._uU(23),t.qZA()(),t.TgZ(24,"button",15),t.NdJ("click",function(){return e.login()}),t._uU(25,"Log in"),t.qZA(),t._UZ(26,"p",16),t.qZA()()()()),2&s&&(t.xp6(14),t.Q6J("formGroup",e.loginForm),t.xp6(1),t.Q6J("ngIf",e.loginForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.loginForm.controls.email.hasError("email")),t.xp6(3),t.Q6J("ngIf",e.loginForm.controls.password.hasError("required")),t.xp6(2),t.Q6J("type",e.hide?"password":"text"),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.Nt,f.TO,f.R9,x.Hw],styles:["body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#f0f0f0}.form-container[_ngcontent-%COMP%]{width:350px;height:auto;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px}.logo[_ngcontent-%COMP%]{width:40%;height:auto;margin-bottom:10px}.logo-place[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#12547e}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.line[_ngcontent-%COMP%]{flex:1}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#999}.input[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #c0c0c0;outline:0!important;box-sizing:border-box;padding:15px;display:flex;align-items:center}.input-pass[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #c0c0c0;outline:0!important;box-sizing:border-box;padding:0 15px;display:flex;align-items:center}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent}.input-pass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;padding:0}.error[_ngcontent-%COMP%]{padding:-30px}.eye-pass[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;font-size:20px;padding:0}.page-link[_ngcontent-%COMP%]{text-decoration:none;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:12px;font-weight:700;color:#12547e}.page-link-label[_ngcontent-%COMP%]:hover{color:#1979f5}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;border-radius:20px;border:0!important;outline:0!important;background:#0165B2;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#12547e}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:12px;text-decoration:none;text-decoration-color:#0165b2;color:#0165b2;cursor:pointer;font-weight:800}.sign-up-link[_ngcontent-%COMP%]:hover{color:#1979f5}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.facebook-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#1979f5 #0000000f 0 0 0 1px;cursor:pointer;display:flex;justify-content:center;align-items:center;font-size:11px;gap:5px}.facebook-login-button[_ngcontent-%COMP%]{background-color:#1979f5;color:#fff;border:2px solid #1979F5}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}.centered-toast[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return o})()}];let T=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#o=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(Z),c.Bz]})}return o})();var k=i(6385),U=i(5940);let I=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#o=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[p.ez,T,r.UX,m.c,x.Ps,k.t,U.Cq,u.ZX]})}return o})()}}]);